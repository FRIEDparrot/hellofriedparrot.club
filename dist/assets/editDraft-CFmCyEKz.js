import{n as m}from"./newBlogPage-BFI5DIYM.js";import{D as p}from"./postBlogOverlay-Bbvhw4pN.js";import{d as c,u as l,_ as f,r,c as g,o as d,a,b as u,w as _,f as h,t as P,F as w}from"./index-CqgRRlZL.js";import{f as y,s as B}from"./showFloatingAlert-CI_PrnNs.js";import{c as s}from"./index-z_6vW30u.js";import"./css-vars-DankDkug.js";import"./index-CXIRte0K.js";import"./navbar_simple-4sphbzQO.js";import"./translateBtn-BRuTLF4g.js";import"./homeBtn-BOzY3PSi.js";import"./rightSidebarProfile-CjJID-z7.js";import"./userAvatar-BCIgy1mb.js";import"./compactFolderList-I424pcJ3.js";import"./navUserAvatarPrompt-REqavzeW.js";import"./MarkdownUtils-BblUo5Ac.js";import"./index-BbAoIb73.js";import"./toString-CyGcNvj-.js";import"./isSymbol-C7jn4vLP.js";import"./parrotLogoBtn-Cu0c4dnl.js";import"./md_code_folding-1UxNs8Fx.js";import"./detailedIteratorList-SBu11wnJ.js";import"./index-Cv97kGWO.js";import"./stdDataTableServer-DK0Vgekt.js";const D=c({name:"EditDraftPage",components:{floatingAlert:y,newBlogPage:m},setup(){return{uuid:l().params.uuid}},data(){return{}},methods:{async fetchDraftContent(e){try{const t=await p.getUserDraftContent(e),o=t.tags;return await s.dispatch("updateInterestByKeys",o),Promise.resolve(t)}catch(t){return Promise.reject(t)}}},mounted(){const e=this.$refs.blogPage;this.fetchDraftContent(this.uuid).then(t=>{const o=s.getters.getInterestTagByKeyList(t.tags);e.load_draft_content(t.title,t.content,o,t.uuid,t.theme)}).catch(t=>{B(this.$refs.floatingAlert,!1,t.message)})}}),A={class:"edit-draft-page"};function $(e,t,o,C,b,x){const n=r("floatingAlert"),i=r("newBlogPage");return d(),g(w,null,[a(n,{ref:"floatingAlert"},null,512),u("div",A,[a(i,{ref:"blogPage"},{title:_(()=>[h(P(e.$t("blog.edit_draft")),1)]),_:1},512)])],64)}const X=f(D,[["render",$]]);export{X as default};
